{"actions":[{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"wordcount","value":{"type":"advancedText","tokenRanges":{"{0, 1}":"Input"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"journal_entry_stats","value":{"type":"advancedText","tokenRanges":{},"text":""}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionStoreVariable","parameters":{"name":"csv_entry","value":{"type":"advancedText","tokenRanges":{},"text":""}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionCustomUI","parameters":{"outputText":{"type":"advancedText","tokenRanges":{"{2, 1}":"%ui:alcoholval","{4, 1}":"%ui:caffieneval","{6, 1}":"%ui:anxietyval","{8, 1}":"%ui:energyval","{10, 1}":"%ui:happinessval","{0, 1}":"%ui:adderallval","{14, 1}":"%ui:sleepqualityval","{12, 1}":"%ui:sleephoursval"},"text":"? ? ? ? ? ? ? ?"},"ui":"[{\"frame\":\"{{0, 0}, {320, 416}}\",\"class\":\"View\",\"nodes\":[{\"frame\":\"{{6, 186}, {154, 34}}\",\"class\":\"Label\",\"nodes\":[],\"attributes\":{\"flex\":\"WRB\",\"font_size\":17,\"enabled\":true,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"text\":\"Anxiety 5\",\"alignment\":\"center\",\"uuid\":\"263B5F3B-F9A3-44C5-859C-580F7727147E\",\"name\":\"anxiety_label\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\"}},{\"frame\":\"{{6, 102}, {154, 34}}\",\"class\":\"Label\",\"nodes\":[],\"attributes\":{\"flex\":\"WRB\",\"font_size\":17,\"enabled\":true,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"text\":\"Energy 5\",\"alignment\":\"center\",\"uuid\":\"7046A848-C457-455A-939B-ECBE1B5AF2AF\",\"name\":\"energy_label\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\"}},{\"frame\":\"{{6, 144}, {154, 34}}\",\"class\":\"Label\",\"nodes\":[],\"attributes\":{\"flex\":\"WRB\",\"font_size\":17,\"enabled\":true,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"text\":\"Happiness 5\",\"alignment\":\"center\",\"uuid\":\"22374AD4-A40C-4FDF-9368-EC8F87D35521\",\"name\":\"happiness_label\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\"}},{\"frame\":\"{{6, 6}, {93.5, 40}}\",\"class\":\"TextField\",\"nodes\":[],\"attributes\":{\"uuid\":\"2CD62DEA-0459-4DA8-9F3B-BB5D29F3512F\",\"flex\":\"WRB\",\"border_style\":3,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"alignment\":\"center\",\"enabled\":true,\"placeholder\":\"ADHD\",\"text\":\"\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"action_workflow\":\"{\\\"actions\\\":[]}\",\"name\":\"adderallval\",\"font_size\":17}},{\"frame\":\"{{6, 228}, {154, 34}}\",\"class\":\"Label\",\"nodes\":[],\"attributes\":{\"flex\":\"WRB\",\"font_size\":17,\"action_workflow\":\"{\\\"actions\\\":[]}\",\"enabled\":true,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"text\":\"Sleep quality 5\",\"alignment\":\"center\",\"uuid\":\"83DE3648-B260-4BFE-A3B9-7BC0B67B682B\",\"name\":\"sleep_qual_label\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\"}},{\"frame\":\"{{162.5, 102}, {151.5, 34}}\",\"class\":\"Slider\",\"nodes\":[],\"attributes\":{\"flex\":\"WLB\",\"action_workflow\":\"{\\\"actions\\\":[{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionMath\\\",\\\"parameters\\\":{\\\"expression\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{6, 1}\\\":\\\"Input\\\"},\\\"text\\\":\\\"floor(? * 10)\\\"},\\\"resultOption\\\":1,\\\"onError\\\":0,\\\"variableName\\\":\\\"energyval\\\"}},{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionStoreVariable\\\",\\\"parameters\\\":{\\\"name\\\":\\\"energy_rating\\\",\\\"value\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{0, 1}\\\":\\\"Input\\\"},\\\"text\\\":\\\"?\\\"}}},{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionSetUIControlValue\\\",\\\"parameters\\\":{\\\"text\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{7, 1}\\\":\\\"energyval\\\"},\\\"text\\\":\\\"Energy ?\\\"},\\\"viewName\\\":\\\"energy_label\\\"}}]}\",\"enabled\":true,\"uuid\":\"C45905DD-C5C8-451C-B866-2B2C29387829\",\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"value\":0.5,\"name\":\"energyval\"}},{\"frame\":\"{{162, 186}, {151.5, 34}}\",\"class\":\"Slider\",\"nodes\":[],\"attributes\":{\"flex\":\"WLB\",\"action_workflow\":\"{\\\"actions\\\":[{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionMath\\\",\\\"parameters\\\":{\\\"expression\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{6, 1}\\\":\\\"Input\\\"},\\\"text\\\":\\\"floor(? * 10)\\\"},\\\"resultOption\\\":1,\\\"onError\\\":0,\\\"variableName\\\":\\\"anxietyval\\\"}},{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionSetUIControlValue\\\",\\\"parameters\\\":{\\\"text\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{8, 1}\\\":\\\"anxietyval\\\"},\\\"text\\\":\\\"Anxiety ?\\\"},\\\"viewName\\\":\\\"anxiety_label\\\"}}]}\",\"enabled\":true,\"uuid\":\"D06B8DBF-C1C2-4814-9A5C-93150475F010\",\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"value\":0.5,\"name\":\"anxietyval\"}},{\"frame\":\"{{162.5, 144}, {151, 34}}\",\"class\":\"Slider\",\"nodes\":[],\"attributes\":{\"flex\":\"WLB\",\"action_workflow\":\"{\\\"actions\\\":[{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionMath\\\",\\\"parameters\\\":{\\\"expression\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{6, 1}\\\":\\\"Input\\\"},\\\"text\\\":\\\"floor(? * 10)\\\"},\\\"onError\\\":0,\\\"resultOption\\\":0}},{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionStoreVariable\\\",\\\"parameters\\\":{\\\"name\\\":\\\"happiness_rating\\\",\\\"value\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{0, 1}\\\":\\\"Input\\\"},\\\"text\\\":\\\"?\\\"}}},{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionSetUIControlValue\\\",\\\"parameters\\\":{\\\"text\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{10, 1}\\\":\\\"Input\\\"},\\\"text\\\":\\\"Happiness ?\\\"},\\\"viewName\\\":\\\"happiness_label\\\"}}]}\",\"enabled\":true,\"uuid\":\"85F6D84F-998B-4727-82C7-7062D5CFDEF6\",\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"value\":0.5,\"name\":\"happinessval\"}},{\"frame\":\"{{162.5, 228}, {151, 34}}\",\"class\":\"Slider\",\"nodes\":[],\"attributes\":{\"flex\":\"WLB\",\"action_workflow\":\"{\\\"actions\\\":[{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionMath\\\",\\\"parameters\\\":{\\\"expression\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{6, 1}\\\":\\\"Input\\\"},\\\"text\\\":\\\"floor(? * 10)\\\"},\\\"resultOption\\\":1,\\\"onError\\\":0,\\\"variableName\\\":\\\"sleepqualval\\\"}},{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionStoreVariable\\\",\\\"parameters\\\":{\\\"name\\\":\\\"sleep_rating\\\",\\\"value\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{0, 1}\\\":\\\"Input\\\"},\\\"text\\\":\\\"?\\\"}}},{\\\"pauseBeforeRunning\\\":false,\\\"pauseWithoutShowingParameters\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"class\\\":\\\"WorkflowActionSetUIControlValue\\\",\\\"parameters\\\":{\\\"text\\\":{\\\"type\\\":\\\"advancedText\\\",\\\"tokenRanges\\\":{\\\"{14, 1}\\\":\\\"sleepqualval\\\"},\\\"text\\\":\\\"Sleep quality ?\\\"},\\\"viewName\\\":\\\"sleep_qual_label\\\"}}]}\",\"enabled\":true,\"uuid\":\"CC6DE56F-2E32-4DF2-A3C2-EA1FE7109FD6\",\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"value\":0.5,\"name\":\"sleepqualityval\"}},{\"frame\":\"{{111, 6}, {96.5, 40}}\",\"class\":\"TextField\",\"nodes\":[],\"attributes\":{\"placeholder\":\"Caffiene\",\"flex\":\"WLRB\",\"action_workflow\":\"{\\\"actions\\\":[{\\\"class\\\":\\\"WorkflowActionStoreVariable\\\",\\\"pauseBeforeRunning\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"parameters\\\":{\\\"name\\\":\\\"caffiene\\\",\\\"value\\\":{\\\"tokenRanges\\\":{\\\"{0, 1}\\\":\\\"Input\\\"},\\\"type\\\":\\\"advancedText\\\",\\\"text\\\":\\\"?\\\"}},\\\"pauseWithoutShowingParameters\\\":false}]}\",\"enabled\":true,\"border_style\":3,\"font_size\":17,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"uuid\":\"8EA421F5-8139-483C-8BC2-4446C6CDB21B\",\"alignment\":\"center\",\"name\":\"caffieneval\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\"}},{\"frame\":\"{{225, 6}, {89, 40}}\",\"class\":\"TextField\",\"nodes\":[],\"attributes\":{\"placeholder\":\"Sleep Hrs\",\"flex\":\"WLB\",\"action_workflow\":\"{\\\"actions\\\":[{\\\"class\\\":\\\"WorkflowActionStoreVariable\\\",\\\"pauseBeforeRunning\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"parameters\\\":{\\\"name\\\":\\\"sleep_hours\\\",\\\"value\\\":{\\\"tokenRanges\\\":{\\\"{0, 1}\\\":\\\"Input\\\"},\\\"type\\\":\\\"advancedText\\\",\\\"text\\\":\\\"?\\\"}},\\\"pauseWithoutShowingParameters\\\":false}]}\",\"enabled\":true,\"border_style\":3,\"font_size\":17,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"uuid\":\"99CEFBE4-6EEB-4CBA-9A25-7AEA5B00EDE2\",\"alignment\":\"right\",\"name\":\"sleephoursval\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\"}},{\"frame\":\"{{6, 54}, {60, 40}}\",\"class\":\"TextField\",\"nodes\":[],\"attributes\":{\"uuid\":\"0E1416A9-D5BC-4EF4-8ACD-65C320D3D6FB\",\"flex\":\"RB\",\"border_style\":3,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"alignment\":\"center\",\"enabled\":true,\"placeholder\":\"Sys\",\"text\":\"\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"action_workflow\":\"{\\\"actions\\\":[]}\",\"name\":\"systolic\",\"font_size\":17}},{\"frame\":\"{{74, 54}, {60, 40}}\",\"class\":\"TextField\",\"nodes\":[],\"attributes\":{\"placeholder\":\"Dia\",\"flex\":\"RB\",\"action_workflow\":\"{\\\"actions\\\":[{\\\"class\\\":\\\"WorkflowActionStoreVariable\\\",\\\"pauseBeforeRunning\\\":false,\\\"customTitle\\\":\\\"\\\",\\\"parameters\\\":{\\\"name\\\":\\\"alcohol\\\",\\\"value\\\":{\\\"tokenRanges\\\":{\\\"{0, 1}\\\":\\\"Input\\\"},\\\"type\\\":\\\"advancedText\\\",\\\"text\\\":\\\"?\\\"}},\\\"pauseWithoutShowingParameters\\\":false}]}\",\"enabled\":true,\"border_style\":3,\"font_size\":17,\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"uuid\":\"5F25A996-A45C-49B8-B8A4-D8A49A7139F2\",\"alignment\":\"center\",\"name\":\"diastolic\",\"text_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\"}}],\"attributes\":{\"flex\":\"\",\"border_width\":0,\"action_workflow\":\"{\\\"actions\\\":[]}\",\"enabled\":true,\"tint_color\":\"RGBA(0.000000,0.478000,1.000000,1.000000)\",\"border_color\":\"RGBA(0.000000,0.000000,0.000000,1.000000)\",\"corner_radius\":0,\"background_color\":\"RGBA(1.000000,1.000000,1.000000,1.000000)\",\"name\":\"Daily Stats\"}}]","useEditorTheme":true}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRunScript","parameters":{"script":"#coding: utf-8\nimport workflow\n\ndef process_stat(val0):\n\tval = float(val0)\n\treturn '{:03.1f}'.format(lambda: val * 10 if val < 1 else val)\n\nprocess_stats = lambda stats: map(process_stat, stats)\n\ndef get_stats(raw):\n\tprint('raw: '+raw)\n\tstats = map(float, raw.split())\n\t#stats[3] = stats[3] * 10 # anxiety\n\t#stats[4] = stats[4] * 10 # energy\n\t#stats[5] = stats[5] * 10 # happiness\n\t#stats[7] = stats[7] * 10 # sleepqual\t\n\treturn map(lambda n: '{:03.1f}'.format(n), stats)\n\n#  Formats as GFM table\n# | Header1         | Header2 |\n# |-----------------|--------:|\n# | Title1          |     0.0 |\n# | Title2          |     0.0 |\ndef create_md_table (headers, titles, stats):\n\tline_template = '| {:<14} | {:>5} |\\n'\n\theader_line = line_template.format(*headers) \n\tentry_lines = map(lambda t: line_template.format(*t), zip(titles, stats))\n \ttable_break = '|{0:-<16}|{0:->6}:|\\n'.format('')\n \treturn header_line + table_break + ''.join(entry_lines)\n\nheaders = ('Daily Stats', '')\ntitles = [\n\t'Medication',\n\t'Alcohol',\n\t'Caffeine',\n\t'Anxiety',\n  'Energy',\n  'Happiness',\n  'Sleep Hours',\n  'Sleep Quality',\n  'Systolic',\n  'Diastolic'\n  # 'Word Count',\n]\nstats = get_stats(workflow.get_input())\n# print process_stats(workflow.get_input())\nworkflow.set_variable('journal_entry_stats',create_md_table(headers, titles, stats))\nworkflow.set_variable('csv_entry', \", \".join(map(str,stats)))\n###\n"}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionConsoleOutput","parameters":{"text":{"type":"advancedText","tokenRanges":{"{3, 1}":"csv_entry","{0, 1}":"journal_entry_stats"},"text":"?\n\n?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionOpenDocument","parameters":{"filename":"daily-stats.csv","inDropbox":true}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionMoveCaret","parameters":{"numberOfSteps":{"type":"advancedText","tokenRanges":{},"text":"1"},"direction":0,"unit":0}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionMoveCaret","parameters":{"numberOfSteps":{"type":"advancedText","tokenRanges":{},"text":"1"},"direction":1,"unit":1}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionReplaceSelectedText","parameters":{"replacement":{"type":"advancedText","tokenRanges":{"{1, 1}":"%date:yyyy","{3, 1}":"%date:MM","{5, 1}":"%date:dd","{8, 1}":"csv_entry"},"text":"\n?-?-?, ?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionRunSubWorkflow","parameters":{"stopOnError":false,"workflow":{"name":"clean csv"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionFormatString","parameters":{"text":{"type":"advancedText","tokenRanges":{"{0, 1}":"journal_entry_stats"},"text":"?"}}},{"pauseBeforeRunning":false,"pauseWithoutShowingParameters":false,"customTitle":"","class":"WorkflowActionSetClipboard","parameters":{}}]}